<!DOCTYPE html>
<html lang="es">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Simulador de Propiedades del Agua</title>
Â  Â  <style>
Â  Â  Â  Â  /* Fuentes */
Â  Â  Â  Â  @import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap');

Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --bg-color-light: #f0f4f8;
Â  Â  Â  Â  Â  Â  --bg-container-light: #ffffff;
Â  Â  Â  Â  Â  Â  --text-color-light: #334155;
Â  Â  Â  Â  Â  Â  --text-heading-light: #1e293b;
Â  Â  Â  Â  Â  Â  --canvas-bg-light: #e2e8f0;
Â  Â  Â  Â  Â  Â  --canvas-border-light: #cbd5e1;
Â  Â  Â  Â  Â  Â  --sidebar-bg-light: rgba(255, 255, 255, 0.9);
Â  Â  Â  Â  Â  Â  --sidebar-shadow-light: rgba(0, 0, 0, 0.2);
Â  Â  Â  Â  Â  Â  --backdrop-filter: blur(10px);
Â  Â  Â  Â  }

Â  Â  Â  Â  body.dark-mode {
Â  Â  Â  Â  Â  Â  --bg-color-light: #1e293b;
Â  Â  Â  Â  Â  Â  --bg-container-light: #334155;
Â  Â  Â  Â  Â  Â  --text-color-light: #e2e8f0;
Â  Â  Â  Â  Â  Â  --text-heading-light: #f0f4f8;
Â  Â  Â  Â  Â  Â  --canvas-bg-light: #475569;
Â  Â  Â  Â  Â  Â  --canvas-border-light: #64748b;
Â  Â  Â  Â  Â  Â  --sidebar-bg-light: rgba(51, 65, 85, 0.9);
Â  Â  Â  Â  Â  Â  --sidebar-shadow-light: rgba(0, 0, 0, 0.5);
Â  Â  Â  Â  }

Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: 'Open Sans', sans-serif;
Â  Â  Â  Â  Â  Â  background-color: var(--bg-color-light);
Â  Â  Â  Â  Â  Â  color: var(--text-color-light);
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s ease, color 0.3s ease;
Â  Â  Â  Â  Â  Â  min-height: 100vh;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  overflow-x: hidden;
Â  Â  Â  Â  }

Â  Â  Â  Â  .main-content {
Â  Â  Â  Â  Â  Â  flex-grow: 1;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  transition: filter 0.3s ease-in-out;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Nuevo estilo para el desenfoque */
Â  Â  Â  Â  .main-content.blur-bg {
Â  Â  Â  Â  Â  Â  filter: blur(5px);
Â  Â  Â  Â  }

Â  Â  Â  Â  .container {
Â  Â  Â  Â  Â  Â  background-color: var(--bg-container-light);
Â  Â  Â  Â  Â  Â  border-radius: 1rem;
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
Â  Â  Â  Â  Â  Â  padding: 2rem;
Â  Â  Â  Â  Â  Â  max-width: 900px;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 1.5rem;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  }

Â  Â  Â  Â  h1 {
Â  Â  Â  Â  Â  Â  font-family: Impact, sans-serif;
Â  Â  Â  Â  Â  Â  color: var(--text-heading-light);
Â  Â  Â  Â  Â  Â  font-size: 2rem;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  margin-bottom: 0.5rem;
Â  Â  Â  Â  Â  Â  transition: color 0.3s ease;
Â  Â  Â  Â  }

Â  Â  Â  Â  p {
Â  Â  Â  Â  Â  Â  color: var(--text-color-light);
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  margin-top: 0;
Â  Â  Â  Â  Â  Â  max-width: 600px;
Â  Â  Â  Â  Â  Â  transition: color 0.3s ease;
Â  Â  Â  Â  }

Â  Â  Â  Â  canvas {
Â  Â  Â  Â  Â  Â  background-color: var(--canvas-bg-light);
Â  Â  Â  Â  Â  Â  border-radius: 0.75rem;
Â  Â  Â  Â  Â  Â  border: 2px solid var(--canvas-border-light);
Â  Â  Â  Â  Â  Â  box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 800px;
Â  Â  Â  Â  Â  Â  height: 500px;
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s ease, border-color 0.3s ease;
Â  Â  Â  Â  }

Â  Â  Â  Â  .controls {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  gap: 1rem;
Â  Â  Â  Â  Â  Â  margin-top: 1rem;
Â  Â  Â  Â  }

Â  Â  Â  Â  .control-group {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 0.5rem;
Â  Â  Â  Â  }

Â  Â  Â  Â  .control-group label {
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 0.25rem;
Â  Â  Â  Â  Â  Â  cursor: default;
Â  Â  Â  Â  }

Â  Â  Â  Â  .control-group input[type="range"] {
Â  Â  Â  Â  Â  Â  width: 150px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .buttons {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  Â  Â  Â  gap: 0.75rem;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  button, .toggle-btn, .sidebar-btn {
Â  Â  Â  Â  Â  Â  background-color: #1e293b;
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  border: 2px solid #3b82f6;
Â  Â  Â  Â  Â  Â  padding: 0.75rem 1.5rem;
Â  Â  Â  Â  Â  Â  border-radius: 0.5rem;
Â  Â  Â  Â  Â  Â  font-size: 1rem;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  transition: all 0.3s ease-in-out;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 5px #3b82f6;
Â  Â  Â  Â  }

Â  Â  Â  Â  button:hover, .toggle-btn:hover, .sidebar-btn:hover {
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  background-color: #3b82f6;
Â  Â  Â  Â  Â  Â  border-color: #2563eb;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 10px #fff, 0 0 20px #3b82f6, 0 0 40px #3b82f6, 0 0 80px #3b82f6;
Â  Â  Â  Â  Â  Â  transform: scale(1.05);
Â  Â  Â  Â  }

Â  Â  Â  Â  button.active {
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  background-color: #3b82f6;
Â  Â  Â  Â  Â  Â  border-color: #2563eb;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 10px #fff, 0 0 20px #3b82f6, 0 0 40px #3b82f6, 0 0 80px #3b82f6;
Â  Â  Â  Â  Â  Â  animation: neon-pulse 1.5s ease-in-out infinite alternate;
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes neon-pulse {
Â  Â  Â  Â  Â  Â  from {
Â  Â  Â  Â  Â  Â  Â  Â  box-shadow: 0 0 10px #fff, 0 0 20px #3b82f6, 0 0 40px #3b82f6, 0 0 80px #3b82f6;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  to {
Â  Â  Â  Â  Â  Â  Â  Â  box-shadow: 0 0 20px #fff, 0 0 40px #3b82f6, 0 0 60px #3b82f6, 0 0 100px #3b82f6;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  .info-box {
Â  Â  Â  Â  Â  Â  background-color: var(--canvas-bg-light);
Â  Â  Â  Â  Â  Â  border: 1px solid var(--canvas-border-light);
Â  Â  Â  Â  Â  Â  padding: 1rem;
Â  Â  Â  Â  Â  Â  border-radius: 0.75rem;
Â  Â  Â  Â  Â  Â  margin-top: 1rem;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 800px;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s ease, border-color 0.3s ease;
Â  Â  Â  Â  }

Â  Â  Â  Â  .footer {
Â  Â  Â  Â  Â  Â  margin-top: 1.5rem;
Â  Â  Â  Â  Â  Â  padding-top: 1.5rem;
Â  Â  Â  Â  Â  Â  border-top: 1px solid var(--canvas-border-light);
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  gap: 0.5rem;
Â  Â  Â  Â  Â  Â  transition: border-color 0.3s ease;
Â  Â  Â  Â  }

Â  Â  Â  Â  .footer p {
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  color: var(--text-color-light);
Â  Â  Â  Â  Â  Â  min-height: 1.5em;
Â  Â  Â  Â  Â  Â  transition: color 0.3s ease;
Â  Â  Â  Â  }

Â  Â  Â  Â  #footerTypingText {
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  white-space: nowrap;
Â  Â  Â  Â  Â  Â  border-right: 2px solid transparent;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  }

Â  Â  Â  Â  .footer a {
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  background-color: #1e293b;
Â  Â  Â  Â  Â  Â  border: 2px solid #3b82f6;
Â  Â  Â  Â  Â  Â  padding: 0.5rem 1rem;
Â  Â  Â  Â  Â  Â  border-radius: 0.5rem;
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  transition: all 0.3s ease-in-out;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 5px #3b82f6;
Â  Â  Â  Â  }

Â  Â  Â  Â  .footer a:hover {
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  background-color: #3b82f6;
Â  Â  Â  Â  Â  Â  border-color: #2563eb;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 10px #fff, 0 0 20px #3b82f6, 0 0 40px #3b82f6, 0 0 80px #3b82f6;
Â  Â  Â  Â  Â  Â  transform: scale(1.05);
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes typing {
Â  Â  Â  Â  Â  Â  from { width: 0 }
Â  Â  Â  Â  Â  Â  to { width: 100% }
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes blink-caret {
Â  Â  Â  Â  Â  Â  from, to { border-color: transparent }
Â  Â  Â  Â  Â  Â  50% { border-color: #3b82f6; }
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Sidebar styles */
Â  Â  Â  Â  .sidebar {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  width: 300px;
Â  Â  Â  Â  Â  Â  background-color: var(--sidebar-bg-light);
Â  Â  Â  Â  Â  Â  backdrop-filter: var(--backdrop-filter);
Â  Â  Â  Â  Â  Â  box-shadow: 2px 0 10px var(--sidebar-shadow-light);
Â  Â  Â  Â  Â  Â  transform: translateX(-100%);
Â  Â  Â  Â  Â  Â  transition: transform 0.3s ease-in-out;
Â  Â  Â  Â  Â  Â  z-index: 100;
Â  Â  Â  Â  Â  Â  padding: 2rem;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  gap: 1rem;
Â  Â  Â  Â  }

Â  Â  Â  Â  .sidebar.open {
Â  Â  Â  Â  Â  Â  transform: translateX(0);
Â  Â  Â  Â  }

Â  Â  Â  Â  .sidebar-header {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  flex-shrink: 0;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ESTILO MODIFICADO PARA MOSTRAR EL LOGO REAL */
Â  Â  Â  Â  .sidebar-logo {
Â  Â  Â  Â  Â  Â  max-width: 180px; /* Aumenta un poco el ancho */
Â  Â  Â  Â  Â  Â  height: 60px; /* Aumenta un poco la altura */
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  border-radius: 0.5rem;
Â  Â  Â  Â  Â  Â  /* Eliminamos el background-color y el color de texto del placeholder */
Â  Â  Â  Â  }
        /* Asegura que la imagen se ajuste dentro del contenedor .sidebar-logo */
        .sidebar-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain; /* Esto asegura que el logo se vea completamente sin ser cortado */
            border-radius: 0.5rem;
        }
Â  Â  Â  Â  /* FIN ESTILO MODIFICADO */

Â  Â  Â  Â  .sidebar-header .close-btn {
Â  Â  Â  Â  Â  Â  background: none;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  font-size: 1.5rem;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  color: var(--text-heading-light);
Â  Â  Â  Â  }

Â  Â  Â  Â  .sidebar ul {
Â  Â  Â  Â  Â  Â  list-style: none;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  flex: 1;
Â  Â  Â  Â  Â  Â  overflow-y: auto;
Â  Â  Â  Â  Â  Â  padding-right: 15px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .sidebar li {
Â  Â  Â  Â  Â  Â  margin-bottom: 1rem;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .sidebar-btn {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  white-space: normal; /* Permite que el texto se ajuste si es largo */
Â  Â  Â  Â  }

Â  Â  Â  Â  .top-bar {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 15px;
Â  Â  Â  Â  Â  Â  left: 15px;
Â  Â  Â  Â  Â  Â  z-index: 10;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .toggle-btn {
Â  Â  Â  Â  Â  Â  padding: 0.5rem 1rem;
Â  Â  Â  Â  Â  Â  font-size: 1rem;
Â  Â  Â  Â  }

Â  Â  Â  Â  @media (max-width: 768px) {
Â  Â  Â  Â  Â  Â  .container {
Â  Â  Â  Â  Â  Â  Â  Â  padding: 1rem;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  h1 {
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 1.5rem;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  p {
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 0.9rem;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  .controls {
Â  Â  Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  .sidebar {
Â  Â  Â  Â  Â  Â  Â  Â  width: 250px;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â  <div class="top-bar">
Â  Â  Â  Â  <button id="sidebarToggleBtn" class="toggle-btn">
Â  Â  Â  Â  Â  Â  <!-- Icono de Hamburguesa (MenÃº) -->
Â  Â  Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
Â  Â  Â  Â  Â  Â  Â  Â  <line x1="3" y1="12" x2="21" y2="12"></line>
Â  Â  Â  Â  Â  Â  Â  Â  <line x1="3" y1="6" x2="21" y2="6"></line>
Â  Â  Â  Â  Â  Â  Â  Â  <line x1="3" y1="18" x2="21" y2="18"></line>
Â  Â  Â  Â  Â  Â  </svg>
Â  Â  Â  Â  </button>
Â  Â  Â  Â  <button id="darkModeToggleBtn" class="toggle-btn">ğŸŒ™</button>
Â  Â  </div>

Â  Â  <div id="sidebar" class="sidebar">
Â  Â  Â  Â  <div class="sidebar-header">
Â  Â  Â  Â  Â  Â  <!-- La etiqueta <img> ya estaba, ahora el CSS la soporta -->
Â  Â  Â  Â  Â  Â  <div class="sidebar-logo"><img src = "logo.png" alt = "Logo Gesprache"></div>
Â  Â  Â  Â  Â  Â  <button id="closeSidebarBtn" class="close-btn">&times;</button>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <ul>
Â  Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="sidebar-btn" data-link-type="pdf">Descargar guÃ­a-slides de la clase en PDF</button>
Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="sidebar-btn" data-link-type="youtube">Ver VersiÃ³n Resumida pregrabada en YT</button>
Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="sidebar-btn" data-link-type="quizz">QUIZZ</button>
Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="sidebar-btn" data-link-type="fisiologia">BREVE HISTORIA DE LA FISIOLOGÃA</button>
Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="sidebar-btn" data-link-type="ime">BREVE HISTORIA DEL IME</button>
Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="sidebar-btn" data-link-type="cohesion">FUERZAS DE COHESIÃ“N | Simulador</button>
Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="sidebar-btn" data-link-type="adhesion">FUERZAS DE ADHESIÃ“N | Simulador</button>
Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="sidebar-btn" data-link-type="watermol">WaterMol | Simulador</button>
Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="sidebar-btn" data-link-type="liqcorp">Liquidos Corporales | Simulador</button>
Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  <!-- NUEVO BOTÃ“N SOLICITADO -->
Â  Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="sidebar-btn" data-link-type="fase">Cambio de Fase | Simulador</button>
Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  </ul>
Â  Â  </div>

Â  Â  <div class="main-content" id="mainContent">
Â  Â  Â  Â  <div class="container">
Â  Â  Â  Â  Â  Â  <h1>Simulador de Propiedades del Agua</h1>
Â  Â  Â  Â  Â  Â  <p>Observa cÃ³mo las molÃ©culas de agua se comportan en diferentes estados. La animaciÃ³n muestra el movimiento y las interacciones para ilustrar la diferencia entre las fases sÃ³lida, lÃ­quida y gaseosa.</p>
Â  Â  Â  Â  Â  Â  <canvas id="waterCanvas"></canvas>
Â  Â  Â  Â  Â  Â  <div class="controls">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="control-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="temperatureSlider">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Temperatura (Velocidad)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="range" id="temperatureSlider" min="0.1" max="3" value="1.5" step="0.1">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="control-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="bondStrengthSlider">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Fuerza de enlace
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="range" id="bondStrengthSlider" min="0.01" max="0.5" value="0.05" step="0.01">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <!-- Botones aÃ±adidos directamente al HTML para mejor manejo -->
Â  Â  Â  Â  Â  Â  <div class="buttons">
Â  Â  Â  Â  Â  Â  Â  Â  <button id="solidBtn">SÃ³lido</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="liquidBtn">LÃ­quido</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="gasBtn">Gaseoso</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="info-box">
Â  Â  Â  Â  Â  Â  Â  Â  <p id="infoText">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <b>SÃ³lido (Hielo):</b> Las molÃ©culas de agua estÃ¡n en una estructura cristalina fija, con movimiento vibratorio mÃ­nimo.
Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="footer">
Â  Â  Â  Â  Â  Â  Â  Â  <p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="footerTypingText"></span>
Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="https://www.instagram.com/gesprache_vzla" target="_blank" rel="noopener noreferrer">@gesprache_vzla</a>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â  <script>
Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', (event) => {
Â  Â  Â  Â  Â  Â  const canvas = document.getElementById('waterCanvas');
Â  Â  Â  Â  Â  Â  const ctx = canvas.getContext('2d');
Â  Â  Â  Â  Â  Â  const temperatureSlider = document.getElementById('temperatureSlider');
Â  Â  Â  Â  Â  Â  const bondStrengthSlider = document.getElementById('bondStrengthSlider');
Â  Â  Â  Â  Â  Â  const infoText = document.getElementById('infoText');
Â  Â  Â  Â  Â  Â  const sidebarToggleBtn = document.getElementById('sidebarToggleBtn');
Â  Â  Â  Â  Â  Â  const closeSidebarBtn = document.getElementById('closeSidebarBtn');
Â  Â  Â  Â  Â  Â  const sidebar = document.getElementById('sidebar');
Â  Â  Â  Â  Â  Â  const darkModeToggleBtn = document.getElementById('darkModeToggleBtn');
Â  Â  Â  Â  Â  Â  const body = document.body;
Â  Â  Â  Â  Â  Â  const mainContent = document.getElementById('mainContent');

Â  Â  Â  Â  Â  Â  let particles = [];
Â  Â  Â  Â  Â  Â  const particleCount = 100;
Â  Â  Â  Â  Â  Â  const particleRadius = 4;
Â  Â  Â  Â  Â  Â  const particleColor = '#60a5fa';
Â  Â  Â  Â  Â  Â  let currentState = 'solid';
Â  Â  Â  Â  Â  Â  let currentTemperature = parseFloat(temperatureSlider.value);
Â  Â  Â  Â  Â  Â  let currentBondStrength = parseFloat(bondStrengthSlider.value);

Â  Â  Â  Â  Â  Â  // Footer typing animation variables
Â  Â  Â  Â  Â  Â  const footerTypingTextSpan = document.getElementById('footerTypingText');
Â  Â  Â  Â  Â  Â  const phrases = [
Â  Â  Â  Â  Â  Â  Â  Â  "MUCHAS AVENTURAS COMIENZAN CON UN 'SÃ'",
Â  Â  Â  Â  Â  Â  Â  Â  "DANOS UN POCO DE AMOR EN...",
Â  Â  Â  Â  Â  Â  Â  Â  "DÃ‰JANOS TUS COMENTARIOS EN EL BOTÃ“N FIJADO"
Â  Â  Â  Â  Â  Â  ];
Â  Â  Â  Â  Â  Â  let phraseIndex = 0;
Â  Â  Â  Â  Â  Â  let charIndex = 0;
Â  Â  Â  Â  Â  Â  let isDeleting = false;
Â  Â  Â  Â  Â  Â  const typingSpeed = 70;
Â  Â  Â  Â  Â  Â  const deletingSpeed = 40;
Â  Â  Â  Â  Â  Â  const pauseTime = 1500;

Â  Â  Â  Â  Â  Â  function typeWriterEffect() {
Â  Â  Â  Â  Â  Â  Â  Â  const currentPhrase = phrases[phraseIndex];
Â  Â  Â  Â  Â  Â  Â  Â  if (isDeleting) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  footerTypingTextSpan.textContent = currentPhrase.substring(0, charIndex--);
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  footerTypingTextSpan.textContent = currentPhrase.substring(0, charIndex++);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  if (!isDeleting && charIndex > currentPhrase.length) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isDeleting = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(typeWriterEffect, pauseTime);
Â  Â  Â  Â  Â  Â  Â  Â  } else if (isDeleting && charIndex < 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isDeleting = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  phraseIndex = (phraseIndex + 1) % phrases.length;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  charIndex = 0;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(typeWriterEffect, typingSpeed);
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const speed = isDeleting ? deletingSpeed : typingSpeed;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(typeWriterEffect, speed);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  typeWriterEffect();

Â  Â  Â  Â  Â  Â  // Sidebar and Dark Mode functionality
Â  Â  Â  Â  Â  Â  sidebarToggleBtn.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  Â  Â  sidebar.classList.add('open');
Â  Â  Â  Â  Â  Â  Â  Â  mainContent.classList.add('blur-bg');
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  closeSidebarBtn.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  Â  Â  sidebar.classList.remove('open');
Â  Â  Â  Â  Â  Â  Â  Â  mainContent.classList.remove('blur-bg');
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  // Cierra el menÃº si se hace clic fuera de Ã©l
Â  Â  Â  Â  Â  Â  mainContent.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  Â  Â  if (sidebar.classList.contains('open')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  sidebar.classList.remove('open');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mainContent.classList.remove('blur-bg');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  darkModeToggleBtn.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  Â  Â  body.classList.toggle('dark-mode');
Â  Â  Â  Â  Â  Â  Â  Â  if (body.classList.contains('dark-mode')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  darkModeToggleBtn.textContent = 'â˜€ï¸';
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  darkModeToggleBtn.textContent = 'ğŸŒ™';
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  // Event listener for the new sidebar buttons
Â  Â  Â  Â  Â  Â  document.getElementById('sidebar').addEventListener('click', (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  if (e.target.tagName === 'BUTTON' && e.target.classList.contains('sidebar-btn')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const linkType = e.target.dataset.linkType;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let url = '';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ---------- COMENTARIO IMPORTANTE PARA TUS ENLACES ----------
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // AquÃ­ es donde puedes agregar las URL de tus pÃ¡ginas.
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Simplemente reemplaza los valores de 'url' con tus enlaces.
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // -------------------------------------------------------------
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (linkType === 'pdf') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  url = 'URL_DEL_PDF_AQUI'; // Reemplaza esto con el enlace de tu guÃ­a PDF
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (linkType === 'youtube') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  url = 'URL_DEL_VIDEO_YOUTUBE_AQUI'; // Reemplaza esto con el enlace de tu video de YouTube
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (linkType === 'quizz') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  url = 'URL_DEL_QUIZZ_AQUI'; // Reemplaza esto con el enlace de tu quizz
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (linkType === 'fisiologia') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  url = 'tlphysio.html'; // Se abre el archivo tlphysio.html
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (linkType === 'ime') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  url = 'tlime.html'; // Se abre el archivo tlime.html
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (linkType === 'cohesion') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  url = 'capilaridad.html'; // El nuevo enlace para el simulador de cohesiÃ³n
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (linkType === 'adhesion') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  url = 'adhesion.html'; // El nuevo enlace para el simulador de adhesiÃ³n
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (linkType === 'watermol') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  url = 'watermol.html'; // Enlace para el simulador WaterMol
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (linkType === 'liqcorp') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  url = 'liqcorp1.html'; // Enlace para el simulador Liquidos Corporales
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (linkType === 'fase') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  url = 'temp.html'; // NUEVO ENLACE: Cambio de Fase | Simulador
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (url) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  window.open(url, '_blank');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  function resizeCanvas() {
Â  Â  Â  Â  Â  Â  Â  Â  canvas.width = canvas.offsetWidth;
Â  Â  Â  Â  Â  Â  Â  Â  canvas.height = canvas.offsetHeight;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  window.addEventListener('resize', resizeCanvas);
Â  Â  Â  Â  Â  Â  resizeCanvas();

Â  Â  Â  Â  Â  Â  class Particle {
Â  Â  Â  Â  Â  Â  Â  Â  constructor(x, y) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.x = x;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.y = y;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Inicializa con una velocidad determinada por la temperatura actual
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.vx = (Math.random() - 0.5) * currentTemperature;Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.vy = (Math.random() - 0.5) * currentTemperature;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  draw() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ctx.beginPath();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ctx.arc(this.x, this.y, particleRadius, 0, Math.PI * 2);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ctx.fillStyle = particleColor;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ctx.fill();
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  update() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.x += this.vx;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.y += this.vy;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ColisiÃ³n con los bordes del canvas
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (this.x - particleRadius < 0 || this.x + particleRadius > canvas.width) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.vx *= -1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.x = Math.max(particleRadius, Math.min(this.x, canvas.width - particleRadius));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (this.y - particleRadius < 0 || this.y + particleRadius > canvas.height) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.vy *= -1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.y = Math.max(particleRadius, Math.min(this.y, canvas.height - particleRadius));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  attract(otherParticle) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dx = otherParticle.x - this.x;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dy = otherParticle.y - this.y;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const distance = Math.sqrt(dx * dx + dy * dy);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // La atracciÃ³n ocurre solo dentro de un rango y no cuando estÃ¡n demasiado cerca (para evitar explosiones)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (distance < 100 && distance > 10) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const forceDirectionX = dx / distance;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const forceDirectionY = dy / distance;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // La fuerza es inversamente proporcional a la distancia, atenuada por el 'currentBondStrength'
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const force = currentBondStrength * (100 - distance) * 0.001; // Ajuste de factor para evitar movimientos muy bruscos

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Aplica la fuerza de atracciÃ³n
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.vx += forceDirectionX * force;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.vy += forceDirectionY * force;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Empuje ligero para evitar que las partÃ­culas se superpongan (cercanÃ­a)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (distance < particleRadius * 2) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const pushForce = 0.5; // Fuerza de empuje
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.vx -= dx * pushForce;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.vy -= dy * pushForce;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function initParticles(state) {
Â  Â  Â  Â  Â  Â  Â  Â  particles = [];
Â  Â  Â  Â  Â  Â  Â  Â  const padding = 20; // Espacio para que no se peguen a los bordes
Â  Â  Â  Â  Â  Â  Â  Â  for (let i = 0; i < particleCount; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let x, y;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (state === 'solid') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Coloca las partÃ­culas en una cuadrÃ­cula para simular la estructura cristalina
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const cols = Math.floor(Math.sqrt(particleCount));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const cellWidth = (canvas.width - 2 * padding) / cols;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const cellHeight = (canvas.height - 2 * padding) / cols;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const row = Math.floor(i / cols);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const col = i % cols;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  x = padding + cellWidth * col + cellWidth / 2;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  y = padding + cellHeight * row + cellHeight / 2;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // PosiciÃ³n aleatoria
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  x = Math.random() * (canvas.width - 2 * padding) + padding;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  y = Math.random() * (canvas.height - 2 * padding) + padding;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  particles.push(new Particle(x, y));
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  // Re-inicializa la velocidad con la nueva temperatura despuÃ©s del cambio de estado/posiciÃ³n
Â  Â  Â  Â  Â  Â  Â  Â  particles.forEach(p => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  p.vx = (Math.random() - 0.5) * currentTemperature;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  p.vy = (Math.random() - 0.5) * currentTemperature;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function changeState(newState) {
Â  Â  Â  Â  Â  Â  Â  Â  currentState = newState;
Â  Â  Â  Â  Â  Â  Â  Â  const solidBtn = document.getElementById('solidBtn');
Â  Â  Â  Â  Â  Â  Â  Â  const liquidBtn = document.getElementById('liquidBtn');
Â  Â  Â  Â  Â  Â  Â  Â  const gasBtn = document.getElementById('gasBtn');

Â  Â  Â  Â  Â  Â  Â  Â  // Remueve la clase 'active' de todos los botones
Â  Â  Â  Â  Â  Â  Â  Â  if (solidBtn) solidBtn.classList.remove('active');
Â  Â  Â  Â  Â  Â  Â  Â  if (liquidBtn) liquidBtn.classList.remove('active');
Â  Â  Â  Â  Â  Â  Â  Â  if (gasBtn) gasBtn.classList.remove('active');

Â  Â  Â  Â  Â  Â  Â  Â  if (newState === 'solid') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (solidBtn) solidBtn.classList.add('active');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  infoText.innerHTML = "<b>SÃ³lido (Hielo):</b> Las molÃ©culas de agua estÃ¡n en una estructura cristalina fija, con movimiento vibratorio mÃ­nimo.";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentTemperature = 0.5; // Baja velocidad / Baja temperatura
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentBondStrength = 0.5; // Fuerte enlace
Â  Â  Â  Â  Â  Â  Â  Â  } else if (newState === 'liquid') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (liquidBtn) liquidBtn.classList.add('active');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  infoText.innerHTML = "<b>LÃ­quido (Agua):</b> Las molÃ©culas se mueven libremente pero se mantienen cerca gracias a los enlaces de hidrÃ³geno (cohesiÃ³n).";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentTemperature = 1.5; // Velocidad media
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentBondStrength = 0.05; // Enlace medio/bajo
Â  Â  Â  Â  Â  Â  Â  Â  } else { // 'gas'
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (gasBtn) gasBtn.classList.add('active');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  infoText.innerHTML = "<b>Gaseoso (Vapor):</b> Las molÃ©culas se mueven de forma rÃ¡pida y caÃ³tica, con enlaces de hidrÃ³geno rotos. PrÃ¡cticamente sin interacciÃ³n.";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentTemperature = 3.0; // Alta velocidad / Alta temperatura
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentBondStrength = 0.01; // Enlace muy dÃ©bil (casi nulo)
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Actualiza los sliders a los valores preestablecidos
Â  Â  Â  Â  Â  Â  Â  Â  temperatureSlider.value = currentTemperature;
Â  Â  Â  Â  Â  Â  Â  Â  bondStrengthSlider.value = currentBondStrength;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  initParticles(newState);
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function animate() {
Â  Â  Â  Â  Â  Â  Â  Â  ctx.clearRect(0, 0, canvas.width, canvas.height);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Aplica los valores de los sliders en tiempo real
Â  Â  Â  Â  Â  Â  Â  Â  const speedMultiplier = parseFloat(temperatureSlider.value);
Â  Â  Â  Â  Â  Â  Â  Â  const attractionStrength = parseFloat(bondStrengthSlider.value);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  particles.forEach((p1, i) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Actualiza la velocidad base solo en lÃ­quido/gas
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (currentState !== 'solid') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Mantiene una velocidad base mÃ­nima y aplica el multiplicador del slider
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  p1.vx = p1.vx * 0.995 + (Math.random() - 0.5) * 0.05 * speedMultiplier;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  p1.vy = p1.vy * 0.995 + (Math.random() - 0.5) * 0.05 * speedMultiplier;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Simula vibraciÃ³n en sÃ³lido
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  p1.vx = (Math.random() - 0.5) * speedMultiplier * 0.1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  p1.vy = (Math.random() - 0.5) * speedMultiplier * 0.1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Aplica interacciÃ³n si no es gas puro (o si la fuerza de enlace no es mÃ­nima)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (currentState !== 'gas' || attractionStrength > 0.02) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â particles.slice(i + 1).forEach(p2 => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Temporalmente usa el valor del slider para la fuerza de enlace
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const originalBondStrength = currentBondStrength;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentBondStrength = attractionStrength;Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  p1.attract(p2);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  p2.attract(p1);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentBondStrength = originalBondStrength; // Restaura si es necesario
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  p1.update();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  p1.draw();
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  requestAnimationFrame(animate);
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // Agrega los EventListeners a los botones de estado del agua
Â  Â  Â  Â  Â  Â  document.getElementById('solidBtn').addEventListener('click', () => changeState('solid'));
Â  Â  Â  Â  Â  Â  document.getElementById('liquidBtn').addEventListener('click', () => changeState('liquid'));
Â  Â  Â  Â  Â  Â  document.getElementById('gasBtn').addEventListener('click', () => changeState('gas'));

Â  Â  Â  Â  Â  Â  // Los sliders ahora solo actualizan los valores, la lÃ³gica de 'animate' los usa directamente.
Â  Â  Â  Â  Â  Â  temperatureSlider.addEventListener('input', (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  currentTemperature = parseFloat(e.target.value);
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  bondStrengthSlider.addEventListener('input', (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  currentBondStrength = parseFloat(e.target.value);
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  // Iniciar la simulaciÃ³n en estado sÃ³lido
Â  Â  Â  Â  Â  Â  changeState('solid');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Iniciar el loop de animaciÃ³n
Â  Â  Â  Â  Â  Â  animate();
Â  Â  Â  Â  });
Â  Â  </script>
</body>
</html>
